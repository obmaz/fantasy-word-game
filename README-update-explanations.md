# 단어 뜻 풀이 자동 업데이트 스크립트 가이드

## 개요

이 프로젝트에는 단어 뜻 풀이(`koreanExplanation`, `englishExplanation`)를 자동으로 업데이트하는 여러 스크립트가 포함되어 있습니다.

## 스크립트 종류

### 1. `update-explanations-final.js` (기본 템플릿 생성)
- **용도**: meaning 필드를 기반으로 기본 템플릿 설명 생성
- **장점**: 빠르고 안정적, 네트워크 불필요
- **단점**: 정확한 사전 정의가 아님
- **사용법**: `node update-explanations-final.js`

### 2. `update-explanations-web-scraper.js` (웹 스크래핑)
- **용도**: 실제 사전 웹사이트에서 뜻 풀이를 가져옴
- **장점**: 실제 사전에서 가져온 정확한 설명
- **단점**: 시간이 오래 걸림 (1800개 단어 기준 약 30분~1시간), 네트워크 필요, 사전 사이트 구조 변경 시 실패 가능
- **필요 패키지**: `npm install axios cheerio`
- **사용법**: `node update-explanations-web-scraper.js`

## 웹 스크래핑 스크립트 사용 방법

### 1. 패키지 설치

```bash
npm install axios cheerio
```

### 2. 스크립트 실행

```bash
node update-explanations-web-scraper.js
```

### 3. 동작 방식

- 네이버 국어사전에서 한국어 뜻 풀이 가져오기
- Oxford Learner's Dictionary에서 영어 뜻 풀이 가져오기
- 배치 처리로 진행 (한 번에 10개씩)
- 요청 간 1초 지연 (서버 부하 방지)
- 중간에 중단되어도 재실행 가능 (이미 업데이트된 항목은 건너뜀)

### 4. 주의사항

- **시간 소요**: 1800개 단어를 처리하는 데 약 30분~1시간 소요
- **네트워크**: 안정적인 인터넷 연결 필요
- **사전 사이트 변경**: 사전 사이트의 HTML 구조가 변경되면 스크립트 수정 필요
- **API 제한**: 사전 사이트에서 요청을 차단할 수 있음
- **오류 처리**: 네트워크 오류나 파싱 실패 시 기본 템플릿으로 대체

## 현재 상태

- ✅ Day 1-3: 실제 사전에서 가져온 정확한 뜻 풀이 (수동 업데이트 완료)
- ⚠️ Day 4-60 (game-data-1.js): 기본 템플릿으로 업데이트됨
- ⚠️ Day 4-30 (game-data-2.js): 기본 템플릿으로 업데이트됨

## 추천 워크플로우

1. **빠른 업데이트**: `update-explanations-final.js` 실행하여 기본 템플릿 생성
2. **정확한 업데이트**: `update-explanations-web-scraper.js` 실행하여 실제 사전에서 가져오기
3. **수동 검토**: 중요한 단어나 오류가 있는 항목은 수동으로 수정

## 문제 해결

### 패키지 설치 실패
```bash
# 네트워크 문제인 경우, 나중에 다시 시도
npm install axios cheerio
```

### 스크립트 실행 중 오류
- 네트워크 오류: 인터넷 연결 확인 후 재실행
- 파싱 오류: 사전 사이트 구조 변경 가능성, 스크립트 수정 필요
- 타임아웃: 요청 간 지연 시간 증가 (`DELAY_BETWEEN_REQUESTS` 값 조정)

### 중단된 경우
- 스크립트를 재실행하면 중단된 지점부터 계속 진행됩니다
- 이미 업데이트된 항목은 자동으로 건너뜁니다
